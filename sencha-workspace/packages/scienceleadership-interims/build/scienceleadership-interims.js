Ext.define("Scienceleadership.interims.overrides.InterimsController",{override:"SlateAdmin.controller.progress.interims.Report",init:function(){var c=this,a,b,d;c.callParent();c.on("beforereportload",function(e){var f=e.get("NotesFormat")=="html";if(!a){a=c.getEditorForm().getForm();b=a.findField("Notes");d=a.findField("ArchivedNotes")}b.setHidden(f);d.setHidden(!f);d.setValue(f?e.get("Notes"):null)})},syncFormButtons:function(){var c=this,b=c.getEditorForm(),a=b.getRecord();if(a&&a.get("NotesFormat")=="html"){c.getRevertChangesBtn().setDisabled(true);c.getSaveDraftBtn().setDisabled(true);c.getSaveFinishedBtn().setDisabled(true)}else{c.callParent()}},syncStudent:function(b){this.callParent(arguments);var a=b.get("report");b.set("report_grade",a?a.get("Grade"):null,{dirty:false})}});Ext.define("ScienceLeadership.interims.overrides.InterimsEditorForm",{override:"SlateAdmin.view.progress.interims.EditorForm",requires:["Ext.form.field.ComboBox","Ext.form.field.Display"],initComponent:function(){var a=this;a.items=Ext.Array.insert(Ext.Array.clone(a.items),1,[{xtype:"combobox",name:"Grade",fieldLabel:"Current Grade",labelAlign:"left",store:["A","B","C","D","F","N/A"]},{xtype:"displayfield",name:"ArchivedNotes",fieldLabel:"Comments (archived)",labelAlign:"top",hidden:true}]);a.callParent(arguments)}});Ext.define("ScienceLeadership.interims.overrides.InterimsStudentsGrid",{override:"SlateAdmin.view.progress.interims.StudentsGrid",initComponent:function(){var a=this;a.columns=Ext.Array.insert(Ext.Array.clone(a.columns),1,[{text:"Grade",dataIndex:"report_grade",emptyCellText:"&mdash;",width:70}]);a.callParent(arguments)}});Ext.define("ScienceLeadership.interims.overrides.SectionInterimReport",{override:"Slate.model.progress.SectionInterimReport"},function(a){a.addFields([{name:"Grade",type:"string",allowNull:true}])});